<style lang="less">
.news {
    padding: 20px;
    height: 85px;
}
swiper {
    width: 100%;
    height: 100%;
}
swiper-item {
    display: flex;
    justify-content: space-around;
    align-items: center;
    image {
        max-width: 80px;
        max-height: 80px;
    }
}
.news-cover {
    margin-left:15px;
}
.news-title {
    font-size: 14px;
    border-right: 1px solid #000;
    padding: 0 5px 0 0;
}
.news-desc {
    font-size: 14px;
    line-height:18px;
    display:block;
}
.news-through {
    font-size: 12px;
    color: #666;
}
</style>
<template>
    <view class="news">
        <swiper autoplay={{swiper.autoplay}} interval={{swiper.interval}} circular={{swiper.circular}} vertical={{swiper.vertical}}>
            <swiper-item wx:for="{{newsList}}" wx:for-index="index" wx:for-item="item" wx:key="index" @tap="jumpNews({{item.url}})">
                <image src="{{item.src}}" />
                <view class="news-cover">
                    <text class="news-desc">{{item.desc}}</text>
                    <view class="news-through">
                        {{item.viewNum}}浏览
                    </view>
                </view>
                <icon class=""></icon>
            </swiper-item>
        </swiper>
    </view>
</template>
<script>
import wepy from 'wepy';

const newsList = [
    {
        src: 'https://gss0.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/lbs/pic/item/71cf3bc79f3df8dc5680948bc011728b4710286e.jpg',
        title: '头条',
        desc: '一秒萌炸少女心！这些火爆小红书的网红小可爱，我只想看不想吃！！',
        viewNum: '7000'
    },
    {
        src: 'https://gss0.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/lbs/pic/item/71cf3bc79f3df8dc5680948bc011728b4710286e.jpg',
        title: '头条',
        desc: '一秒萌炸少女心！这些火爆小红书的网红小可爱，我只想看不想吃！！',
        viewNum: '7000'
    },
    {
        src: 'https://gss0.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/lbs/pic/item/71cf3bc79f3df8dc5680948bc011728b4710286e.jpg',
        title: '头条',
        desc: '一秒萌炸少女心！这些火爆小红书的网红小可爱，我只想看不想吃！！',
        viewNum: '7000'
    },
    {
        src: 'https://gss0.bdstatic.com/7Po3dSag_xI4khGkpoWK1HF6hhy/lbs/pic/item/71cf3bc79f3df8dc5680948bc011728b4710286e.jpg',
        title: '头条',
        desc: '一秒萌炸少女心！这些火爆小红书的网红小可爱，我只想看不想吃！！',
        viewNum: '7000'
    }
]

export default class News extends wepy.component {
    data = {
        newsList,
        swiper: {
            autoplay: false,
            interval: 3000,
            circular: true,
            vertical: true
        }
    };

    methods = {
        jumpNews(para) {
            wepy.navigateTo({
                url: `/pages/news/news?articleId=${para}`
            })
        }
    };
}
</script>
